(function($){$.fn.idleTimeout=function(userRuntimeConfig){var defaultConfig={redirectUrl:window.location.href,idleTimeLimit:1200,idleCheckHeartbeat:2,customCallback:false,activityEvents:'click keypress scroll wheel mousewheel mousemove',errorAlertMessage:'Please disable "Private Mode", or upgrade to a modern browser. Or perhaps a dependent file missing. Please see: https://github.com/marcuswestin/store.js',sessionKeepAliveTimer:600,sessionKeepAliveUrl:window.location.href},currentConfig=$.extend(defaultConfig,userRuntimeConfig),origTitle=document.title,activityDetector,startKeepSessionAlive,stopKeepSessionAlive,keepSession,keepAlivePing,idleTimer,remainingTimer,checkIdleTimeout,checkIdleTimeoutLoop,startIdleTimer,stopIdleTimer,openWarningDialog,dialogTimer,checkDialogTimeout,startDialogTimer,stopDialogTimer,isDialogOpen,destroyWarningDialog,countdownDisplay,logoutUser;localStorage.setItem('sessionlogout','no');this.logout=function(){store.set('idleTimerLoggedOut',true);};startKeepSessionAlive=function(){keepSession=function(){$.get(currentConfig.sessionKeepAliveUrl);startKeepSessionAlive();};keepAlivePing=setTimeout(keepSession,(currentConfig.sessionKeepAliveTimer*1000));};stopKeepSessionAlive=function(){clearTimeout(keepAlivePing);};activityDetector=function(){$('body').on(currentConfig.activityEvents,function(){startIdleTimer();});};checkIdleTimeout=function(){var timeIdleTimeout=(store.get('idleTimerLastActivity')+(currentConfig.idleTimeLimit*1000));if($.now()>timeIdleTimeout||store.get('idleTimerLoggedOut')===true){logoutUser();}};startIdleTimer=function(){stopIdleTimer();store.set('idleTimerLastActivity',$.now());checkIdleTimeoutLoop();};checkIdleTimeoutLoop=function(){checkIdleTimeout();idleTimer=setTimeout(checkIdleTimeoutLoop,(currentConfig.idleCheckHeartbeat*1000));};stopIdleTimer=function(){clearTimeout(idleTimer);};logoutUser=function(){store.set('idleTimerLoggedOut',true);if(currentConfig.sessionKeepAliveTimer){stopKeepSessionAlive();}if(currentConfig.customCallback){currentConfig.customCallback();}if(currentConfig.redirectUrl){if(localStorage.getItem('sessionlogout')!=='yes'){localStorage.setItem('sessionlogout','yes');$('.logout-user-all').click();}}};return this.each(function(){if(store.enabled){store.set('idleTimerLastActivity',$.now());store.set('idleTimerLoggedOut',false);activityDetector();if(currentConfig.sessionKeepAliveTimer){startKeepSessionAlive();}startIdleTimer();}else{console.log(currentConfig.errorAlertMessage);}});};}(jQuery));window.puJsFileLoadCounter++;